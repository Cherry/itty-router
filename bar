"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Router=void 0;const e=require("tslib");exports.Router=({base:r="",routes:o=[]}={})=>({__proto__:new Proxy({},{get:(e,t,a)=>(e,...p)=>o.push([t.toUpperCase(),RegExp(`^${(r+e).replace(/(\/?)\*/g,"($1.*)?").replace(/(\/$)|((?<=\/)\/)/,"").replace(/(:(\w+)\+)/,"(?<$2>.*)").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3").replace(/\.(?=[\w(])/,"\\.").replace(/\)\.\?\(([^\[]+)\[\^/g,"?)\\.?($1(?<=\\.)[^\\.")}/*$`),p])&&a}),routes:o,handle(r,...t){return e.__awaiter(this,void 0,void 0,(function*(){let e,a,p=new URL(r.url),s=r.query={};for(let[e,r]of p.searchParams)s[e]=void 0===s[e]?r:[s[e],r].flat();for(let[s,l,i]of o)if((s===r.method||"ALL"===s)&&(a=p.pathname.match(l))){r.params=a.groups||{};for(let o of i)if(void 0!==(e=yield o(r.proxy||r,...t)))return e}}))}});
//# sourceMappingURL=bar.map
