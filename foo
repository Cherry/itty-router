Object.defineProperty(exports,"__esModule",{value:!0}),exports.Router=void 0;const e=require("tslib");exports.Router=({base:r="",routes:o=[]}={})=>({__proto__:new Proxy({},{get:(e,t,a)=>(e,...p)=>o.push([t.toUpperCase(),RegExp(`^${(r+e).replace(/(\/?)\*/g,"($1.*)?").replace(/(\/$)|((?<=\/)\/)/,"").replace(/(:(\w+)\+)/,"(?<$2>.*)").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3").replace(/\.(?=[\w(])/,"\\.").replace(/\)\.\?\(([^\[]+)\[\^/g,"?)\\.?($1(?<=\\.)[^\\.")}/*$`),p])&&a}),routes:o,handle(r,...t){return e.__awaiter(this,void 0,void 0,(function*(){let e,a,p=new URL(r.url),l=r.query={};for(let[e,r]of p.searchParams)l[e]=void 0===l[e]?r:[l[e],r].flat();for(let[l,s,i]of o)if((l===r.method||"ALL"===l)&&(a=p.pathname.match(s))){r.params=a.groups||{};for(let o of i)if(void 0!==(e=yield o(r.proxy||r,...t)))return e}}))}});
//# sourceMappingURL=foo.map
